<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Diversification & The Holy Grail of Investing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        .tab-btn.active { background-color: #10b981; color: white; }
        input[type="range"] { accent-color: #10b981; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-2 text-emerald-400">
            The Holy Grail of Investing
        </h1>
        <p class="text-center text-slate-400 mb-2">
            Ray Dalio's Framework for Diversification
        </p>
        <p class="text-center text-slate-500 text-sm mb-8 italic">
            "Making a handful of good uncorrelated bets that are balanced and leveraged well is the surest way of having a lot of upside without being exposed to unacceptable downside."
        </p>

        <!-- Dalio Quote Box -->
        <div class="bg-gradient-to-r from-amber-500/10 to-emerald-500/10 rounded-xl p-6 mb-8 border border-amber-500/30">
            <h2 class="text-xl font-semibold text-amber-400 mb-3">üèÜ The Holy Grail Discovery</h2>
            <p class="text-slate-300 leading-relaxed mb-4">
                Ray Dalio, founder of Bridgewater Associates (the world's largest hedge fund), discovered that with 
                <span class="text-emerald-400 font-semibold">15-20 good, uncorrelated return streams</span>, 
                you can <span class="text-amber-400 font-semibold">reduce portfolio risk by ~80%</span> without 
                reducing expected returns. This improves your return-to-risk ratio by a factor of 5.
            </p>
            <div class="grid md:grid-cols-3 gap-4 text-center">
                <div class="bg-slate-800/50 rounded-lg p-3">
                    <div class="text-2xl font-bold text-red-400">40%</div>
                    <div class="text-xs text-slate-400">Probability of loss with 1 asset</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-3">
                    <div class="text-2xl font-bold text-amber-400">~11%</div>
                    <div class="text-xs text-slate-400">Probability of loss with 15-20 uncorrelated</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-3">
                    <div class="text-2xl font-bold text-emerald-400">5x</div>
                    <div class="text-xs text-slate-400">Improvement in return/risk ratio</div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="flex gap-2 mb-6 flex-wrap">
            <button class="tab-btn active px-4 py-2 rounded-lg font-medium bg-slate-700 text-slate-300 hover:bg-slate-600" data-tab="concept">üìê The Math</button>
            <button class="tab-btn px-4 py-2 rounded-lg font-medium bg-slate-700 text-slate-300 hover:bg-slate-600" data-tab="correlation">üîó Correlation Matters</button>
            <button class="tab-btn px-4 py-2 rounded-lg font-medium bg-slate-700 text-slate-300 hover:bg-slate-600" data-tab="interactive">üìä Interactive Demo</button>
            <button class="tab-btn px-4 py-2 rounded-lg font-medium bg-slate-700 text-slate-300 hover:bg-slate-600" data-tab="application">üíº Real Application</button>
        </div>

        <!-- Tab Content -->
        <div id="tab-concept" class="tab-content space-y-6">
            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-sky-400 mb-4">
                    üìâ The Holy Grail Chart: Risk Reduction vs Number of Assets
                </h2>
                <p class="text-slate-400 mb-4 text-sm">
                    This is the chart that changed Dalio's approach to investing. It shows how adding uncorrelated return streams dramatically reduces risk.
                </p>
                <div style="height: 350px; width: 100%;">
                    <canvas id="riskChart"></canvas>
                </div>

                <!-- Milestone Table -->
                <div class="mt-6 overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-slate-700">
                                <th class="py-2 px-3 text-left text-slate-400"># Streams</th>
                                <th class="py-2 px-3 text-left text-slate-400">Risk Reduction</th>
                                <th class="py-2 px-3 text-left text-slate-400">Return/Risk Ratio</th>
                                <th class="py-2 px-3 text-left text-slate-400">Prob. of Annual Loss</th>
                            </tr>
                        </thead>
                        <tbody id="milestoneTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Math Explanation -->
            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-purple-400 mb-4">üßÆ The Mathematics</h2>
                <div class="bg-slate-900/50 rounded-lg p-4 font-mono text-sm mb-4">
                    <p class="text-purple-400 mb-2">For n uncorrelated assets with equal weights (1/n) and equal variance œÉ¬≤:</p>
                    <p class="mb-1">Portfolio Variance = <span class="text-emerald-400">n √ó (1/n)¬≤ √ó œÉ¬≤</span> = <span class="text-amber-400">œÉ¬≤/n</span></p>
                    <p class="mb-1">Portfolio Std Dev = <span class="text-amber-400">œÉ/‚àön</span></p>
                    <p class="mt-3 text-sky-400">Return-to-Risk Ratio improves by factor of <span class="text-amber-400">‚àön</span></p>
                </div>
                <p class="text-slate-400 text-sm">
                    This is why at n=15, you get ‚àö15 ‚âà 3.9x improvement in return/risk ratio, and at n=20, ‚àö20 ‚âà 4.5x improvement.
                </p>
            </div>
        </div>

        <div id="tab-correlation" class="tab-content space-y-6 hidden">
            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-rose-400 mb-4">
                    ‚ö†Ô∏è Why Most Portfolios Aren't Really Diversified
                </h2>
                <p class="text-slate-300 mb-4">
                    Dalio discovered that <span class="text-rose-400 font-semibold">individual stocks within an asset class are typically about 60% correlated</span> with each other. 
                    This means you could put a thousand stocks in your portfolio and still not be truly diversified!
                </p>
                <div style="height: 350px; width: 100%;">
                    <canvas id="correlationChart"></canvas>
                </div>
                <div class="mt-4 p-4 bg-rose-500/10 border border-rose-500/30 rounded-lg">
                    <p class="text-slate-300 text-sm">
                        <span class="text-rose-400 font-semibold">Key Insight:</span> With 60% correlated assets (typical stocks), 
                        even 20 holdings only reduce risk to ~78%. But with truly uncorrelated assets, 
                        just 5 holdings can achieve the same risk reduction!
                    </p>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-sky-400 mb-4">üîó Understanding Correlation</h2>
                <div class="grid md:grid-cols-3 gap-4">
                    <div class="bg-emerald-500/10 rounded-lg p-4 border border-emerald-500/30">
                        <div class="text-2xl font-bold text-emerald-400 mb-2">œÅ = 0</div>
                        <div class="text-sm text-slate-300">
                            <strong>Uncorrelated:</strong> Assets move independently. When one zigs, the other might zig, zag, or do nothing.
                        </div>
                    </div>
                    <div class="bg-amber-500/10 rounded-lg p-4 border border-amber-500/30">
                        <div class="text-2xl font-bold text-amber-400 mb-2">œÅ = +1</div>
                        <div class="text-sm text-slate-300">
                            <strong>Perfectly Correlated:</strong> Assets move in lockstep. No diversification benefit at all.
                        </div>
                    </div>
                    <div class="bg-sky-500/10 rounded-lg p-4 border border-sky-500/30">
                        <div class="text-2xl font-bold text-sky-400 mb-2">œÅ = -1</div>
                        <div class="text-sm text-slate-300">
                            <strong>Negatively Correlated:</strong> Assets move opposite. Maximum diversification benefit.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-interactive" class="tab-content hidden">
            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-amber-400 mb-4">
                    üìä Interactive Demo: Two Assets Combined
                </h2>
                <p class="text-slate-400 mb-4 text-sm">
                    Drag the slider to see how correlation affects diversification benefits. Watch how the green portfolio line becomes smoother as correlation decreases.
                </p>
                
                <div class="mb-6">
                    <label class="block text-slate-400 mb-2">
                        Correlation between assets: <span id="correlationValue" class="text-emerald-400 font-mono text-lg">0.00</span>
                    </label>
                    <input
                        type="range"
                        id="correlationSlider"
                        min="-50"
                        max="100"
                        value="0"
                        class="w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                    />
                    <div class="flex justify-between text-xs text-slate-500 mt-1">
                        <span>Negative (-0.5)</span>
                        <span>Uncorrelated (0)</span>
                        <span>Perfectly Correlated (1)</span>
                    </div>
                </div>

                <div style="height: 350px; width: 100%;">
                    <canvas id="returnsChart"></canvas>
                </div>

                <!-- Statistics comparison -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                    <div class="bg-red-500/10 rounded-lg p-4 border border-red-500/30">
                        <h3 class="text-red-400 font-semibold mb-2">Asset 1</h3>
                        <p class="text-slate-300">Mean: <span id="asset1Mean" class="text-white font-mono">8.0%</span></p>
                        <p class="text-slate-300">Std Dev: <span id="asset1Std" class="text-white font-mono">5.8%</span></p>
                    </div>
                    <div class="bg-blue-500/10 rounded-lg p-4 border border-blue-500/30">
                        <h3 class="text-blue-400 font-semibold mb-2">Asset 2</h3>
                        <p class="text-slate-300">Mean: <span id="asset2Mean" class="text-white font-mono">8.0%</span></p>
                        <p class="text-slate-300">Std Dev: <span id="asset2Std" class="text-white font-mono">5.8%</span></p>
                    </div>
                    <div class="bg-emerald-500/10 rounded-lg p-4 border border-emerald-500/30">
                        <h3 class="text-emerald-400 font-semibold mb-2">Portfolio (50/50)</h3>
                        <p class="text-slate-300">Mean: <span id="portfolioMean" class="text-white font-mono">8.0%</span></p>
                        <p class="text-slate-300">Std Dev: <span id="portfolioStd" class="text-emerald-400 font-mono font-bold">4.1%</span></p>
                    </div>
                </div>

                <div class="mt-4 p-4 bg-slate-900/50 rounded-lg">
                    <p class="text-slate-300 text-sm">
                        <span class="text-emerald-400 font-semibold">Notice:</span> 
                        <span id="insightText">With low correlation, the portfolio maintains a similar expected return but with significantly lower volatility. This is the Holy Grail at work.</span>
                    </p>
                </div>
            </div>
        </div>

        <div id="tab-application" class="tab-content space-y-6 hidden">
            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-emerald-400 mb-4">üíº Dalio's All Weather Portfolio</h2>
                <p class="text-slate-300 mb-4">
                    Dalio applied the Holy Grail principle to create the "All Weather" portfolio, designed to perform reasonably well 
                    across all four economic "seasons":
                </p>
                
                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-emerald-500/10 rounded-lg p-4 border border-emerald-500/30">
                        <h3 class="text-emerald-400 font-semibold mb-2">üìà Rising Growth</h3>
                        <p class="text-sm text-slate-400">Stocks, corporate bonds, commodities tend to do well</p>
                    </div>
                    <div class="bg-red-500/10 rounded-lg p-4 border border-red-500/30">
                        <h3 class="text-red-400 font-semibold mb-2">üìâ Falling Growth</h3>
                        <p class="text-sm text-slate-400">Treasury bonds, TIPS tend to do well</p>
                    </div>
                    <div class="bg-amber-500/10 rounded-lg p-4 border border-amber-500/30">
                        <h3 class="text-amber-400 font-semibold mb-2">üî• Rising Inflation</h3>
                        <p class="text-sm text-slate-400">Commodities, TIPS, gold tend to do well</p>
                    </div>
                    <div class="bg-sky-500/10 rounded-lg p-4 border border-sky-500/30">
                        <h3 class="text-sky-400 font-semibold mb-2">‚ùÑÔ∏è Falling Inflation</h3>
                        <p class="text-sm text-slate-400">Stocks, treasury bonds tend to do well</p>
                    </div>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <p class="text-slate-400 text-sm">
                        <span class="text-amber-400 font-semibold">Key Principle:</span> Don't try to predict which scenario will happen. 
                        Build a portfolio that can survive all scenarios. "Preparedness is preferable to foresight."
                    </p>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700">
                <h2 class="text-xl font-semibold text-purple-400 mb-4">üéØ Key Takeaways</h2>
                <div class="space-y-3">
                    <div class="flex items-start gap-3">
                        <span class="text-emerald-400 text-xl">‚úì</span>
                        <p class="text-slate-300">The first 3 uncorrelated assets reduce risk by almost half, doubling your return-to-risk ratio</p>
                    </div>
                    <div class="flex items-start gap-3">
                        <span class="text-emerald-400 text-xl">‚úì</span>
                        <p class="text-slate-300">15-20 uncorrelated streams can reduce risk by 80% and improve return/risk ratio by 5x</p>
                    </div>
                    <div class="flex items-start gap-3">
                        <span class="text-emerald-400 text-xl">‚úì</span>
                        <p class="text-slate-300">True diversification is about finding uncorrelated return streams, not just owning many assets</p>
                    </div>
                    <div class="flex items-start gap-3">
                        <span class="text-emerald-400 text-xl">‚úì</span>
                        <p class="text-slate-300">Most stock portfolios are 60% correlated ‚Äî owning 1000 stocks doesn't diversify much more than 5</p>
                    </div>
                    <div class="flex items-start gap-3">
                        <span class="text-amber-400 text-xl">‚ö†</span>
                        <p class="text-slate-300">Correlations can increase during market stress, so true uncorrelation is harder than it seems</p>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-r from-emerald-500/10 to-sky-500/10 rounded-xl p-6 border border-emerald-500/30">
                <h2 class="text-xl font-semibold text-emerald-400 mb-3">üí° The Bottom Line</h2>
                <p class="text-slate-300 italic">
                    "A lot of people think that the most important thing you could do is find the best investments. 
                    That's important, but there is no great single best investment that can compete with proper diversification. 
                    The power of portfolio construction is the key."
                </p>
                <p class="text-slate-500 text-sm mt-2">‚Äî Ray Dalio</p>
            </div>
        </div>

        <p class="text-center text-slate-600 text-xs mt-8">
            Based on Ray Dalio's "Holy Grail of Investing" framework from Principles and Bridgewater research
        </p>
    </div>

    <script>
        // Tab switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
                btn.classList.add('active');
                document.getElementById('tab-' + btn.dataset.tab).classList.remove('hidden');
            });
        });

        // Chart.js defaults for dark theme
        Chart.defaults.color = '#94a3b8';
        Chart.defaults.borderColor = '#334155';

        // Generate risk reduction data
        const riskData = [];
        const labels = [];
        for (let n = 1; n <= 25; n++) {
            labels.push(n);
            riskData.push((1 / Math.sqrt(n)) * 100);
        }

        // Risk Reduction Chart
        new Chart(document.getElementById('riskChart'), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Portfolio Risk (% of single asset)',
                    data: riskData,
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: 15,
                                xMax: 15,
                                borderColor: '#f59e0b',
                                borderDash: [5, 5],
                                label: {
                                    display: true,
                                    content: '15 assets',
                                    position: 'start'
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: { 
                        title: { display: true, text: 'Number of Uncorrelated Return Streams' },
                        grid: { color: '#334155' }
                    },
                    y: { 
                        title: { display: true, text: 'Portfolio Risk (%)' },
                        min: 0,
                        max: 100,
                        grid: { color: '#334155' }
                    }
                }
            }
        });

        // Milestone table
        const milestones = [
            { n: 1, reduction: '0%', ratio: '1.0x', prob: '~40%' },
            { n: 3, reduction: '42%', ratio: '1.7x', prob: '~23%' },
            { n: 5, reduction: '55%', ratio: '2.2x', prob: '~18%' },
            { n: 10, reduction: '68%', ratio: '3.2x', prob: '~13%' },
            { n: 15, reduction: '74%', ratio: '3.9x', prob: '~10%' },
            { n: 20, reduction: '78%', ratio: '4.5x', prob: '~9%' }
        ];

        const tableBody = document.getElementById('milestoneTable');
        milestones.forEach(m => {
            const row = document.createElement('tr');
            row.className = 'border-b border-slate-800' + (m.n === 15 ? ' bg-emerald-500/10' : '');
            row.innerHTML = `
                <td class="py-2 px-3 text-emerald-400 font-mono font-bold">${m.n}</td>
                <td class="py-2 px-3">
                    <div class="flex items-center gap-2">
                        <div class="h-3 bg-emerald-500 rounded" style="width: ${parseInt(m.reduction)}%; max-width: 80px;"></div>
                        <span class="text-slate-300">${m.reduction}</span>
                    </div>
                </td>
                <td class="py-2 px-3 text-sky-400 font-mono">${m.ratio}</td>
                <td class="py-2 px-3 text-amber-400">${m.prob}</td>
            `;
            tableBody.appendChild(row);
        });

        // Correlation comparison chart
        const corrLabels = [];
        const uncorrelated = [];
        const lowCorr = [];
        const highCorr = [];

        for (let n = 1; n <= 20; n++) {
            corrLabels.push(n);
            uncorrelated.push((1 / Math.sqrt(n)) * 100);
            lowCorr.push(Math.sqrt((1 + (n-1) * 0.3) / n) * 100);
            highCorr.push(Math.sqrt((1 + (n-1) * 0.6) / n) * 100);
        }

        new Chart(document.getElementById('correlationChart'), {
            type: 'line',
            data: {
                labels: corrLabels,
                datasets: [
                    {
                        label: 'Typical Stocks (œÅ=0.6)',
                        data: highCorr,
                        borderColor: '#f87171',
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 'Low Correlation (œÅ=0.3)',
                        data: lowCorr,
                        borderColor: '#fbbf24',
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 'Uncorrelated (œÅ=0)',
                        data: uncorrelated,
                        borderColor: '#10b981',
                        borderWidth: 3,
                        tension: 0.4,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { 
                        title: { display: true, text: 'Number of Assets' },
                        grid: { color: '#334155' }
                    },
                    y: { 
                        title: { display: true, text: 'Portfolio Risk (%)' },
                        min: 0,
                        max: 100,
                        grid: { color: '#334155' }
                    }
                }
            }
        });

        // Interactive returns chart
        let returnsChart;
        const seed = 42;

        function random(s) {
            const x = Math.sin(s * 9999) * 10000;
            return x - Math.floor(x);
        }

        function generateReturns(correlation) {
            const asset1 = [], asset2 = [], portfolio = [], periods = [];
            for (let i = 0; i < 50; i++) {
                periods.push(i + 1);
                const r1 = (random(seed + i) - 0.5) * 20;
                const independent = (random(seed + i + 1000) - 0.5) * 20;
                const r2 = correlation * r1 + Math.sqrt(1 - correlation * correlation) * independent;
                asset1.push(8 + r1);
                asset2.push(8 + r2);
                portfolio.push(8 + (r1 + r2) / 2);
            }
            return { periods, asset1, asset2, portfolio };
        }

        function calcStats(arr) {
            const mean = arr.reduce((a, b) => a + b, 0) / arr.length;
            const variance = arr.reduce((a, b) => a + (b - mean) ** 2, 0) / arr.length;
            return { mean: mean.toFixed(1), std: Math.sqrt(variance).toFixed(1) };
        }

        function updateReturnsChart(correlation) {
            const data = generateReturns(correlation);
            const stats1 = calcStats(data.asset1);
            const stats2 = calcStats(data.asset2);
            const statsP = calcStats(data.portfolio);

            document.getElementById('asset1Mean').textContent = stats1.mean + '%';
            document.getElementById('asset1Std').textContent = stats1.std + '%';
            document.getElementById('asset2Mean').textContent = stats2.mean + '%';
            document.getElementById('asset2Std').textContent = stats2.std + '%';
            document.getElementById('portfolioMean').textContent = statsP.mean + '%';
            document.getElementById('portfolioStd').textContent = statsP.std + '%';

            let insight = '';
            if (correlation < 0.3) {
                insight = `With correlation = ${correlation.toFixed(1)}, the portfolio maintains a similar expected return (${statsP.mean}%) but with significantly lower volatility (${statsP.std}%). This is the Holy Grail at work!`;
            } else if (correlation < 0.7) {
                insight = `With correlation = ${correlation.toFixed(1)}, there's some diversification benefit, but not as dramatic. Portfolio std dev is ${statsP.std}%.`;
            } else {
                insight = `With correlation = ${correlation.toFixed(1)}, there's minimal diversification benefit because assets move together. Portfolio std dev is ${statsP.std}%.`;
            }
            document.getElementById('insightText').textContent = insight;

            if (returnsChart) {
                returnsChart.data.labels = data.periods;
                returnsChart.data.datasets[0].data = data.asset1;
                returnsChart.data.datasets[1].data = data.asset2;
                returnsChart.data.datasets[2].data = data.portfolio;
                returnsChart.update();
            } else {
                returnsChart = new Chart(document.getElementById('returnsChart'), {
                    type: 'line',
                    data: {
                        labels: data.periods,
                        datasets: [
                            {
                                label: 'Asset 1',
                                data: data.asset1,
                                borderColor: '#f87171',
                                borderWidth: 1.5,
                                pointRadius: 0,
                                tension: 0.1
                            },
                            {
                                label: 'Asset 2',
                                data: data.asset2,
                                borderColor: '#60a5fa',
                                borderWidth: 1.5,
                                pointRadius: 0,
                                tension: 0.1
                            },
                            {
                                label: '50/50 Portfolio',
                                data: data.portfolio,
                                borderColor: '#10b981',
                                borderWidth: 3,
                                pointRadius: 0,
                                tension: 0.1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { 
                                title: { display: true, text: 'Time Period' },
                                grid: { color: '#334155' }
                            },
                            y: { 
                                title: { display: true, text: 'Return (%)' },
                                min: -15,
                                max: 30,
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }
        }

        // Slider event
        const slider = document.getElementById('correlationSlider');
        const corrValue = document.getElementById('correlationValue');

        slider.addEventListener('input', () => {
            const corr = parseInt(slider.value) / 100;
            corrValue.textContent = corr.toFixed(2);
            updateReturnsChart(corr);
        });

        // Initialize interactive chart
        updateReturnsChart(0);
    </script>
</body>
</html>
